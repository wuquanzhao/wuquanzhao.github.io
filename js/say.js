function say(o,t,e){document.querySelector("#say-content").innerText=o,t&&(document.querySelector("#say-author").innerText=t),e&&(document.querySelector("#say-from").innerText="「"+e+"」")}function fetchApiToSay(){CONFIG.say.api&&fetch(CONFIG.say.api).then(o=>{if(!o.ok)throw new Error(CONFIG.say.api+", HTTP error, status = "+o.status);o.json().then(o=>{CONFIG.say.hitokoto?say(o.hitokoto,o.from_who,o.from):(o=o[Math.floor(Math.random()*o.length)]).content?say(o.content,o.author,o.from):say(o)})}).catch(o=>{console.error(o.message)})}